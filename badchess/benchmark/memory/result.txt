============================= test session starts ==============================
platform linux -- Python 3.9.14, pytest-7.4.1, pluggy-1.3.0
benchmark: 4.0.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/kevin/dev/badchess
configfile: pytest.ini
plugins: memray-1.5.0, benchmark-4.0.0
collected 5 items

badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_2 PASSED [ 20%]
badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_3 PASSED [ 40%]
badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_4 PASSED [ 60%]
badchess/benchmark/memory/test_memory.py::test_find_best_move_depth_3 
-------------------------------- live log call ---------------------------------
INFO     root:main.py:211 best_moves (d: 1, s: 0) ['g1h3', 'g1f3', 'b1c3', 'b1a3', 'h2h3', 'g2g3', 'f2f3', 'e2e3', 'd2d3', 'c2c3', 'b2b3', 'a2a3', 'h2h4', 'g2g4', 'f2f4', 'e2e4', 'd2d4', 'c2c4', 'b2b4', 'a2a4']
INFO     root:main.py:211 best_moves (d: 2, s: 0) ['g8h6', 'g8f6', 'b8c6', 'b8a6', 'h7h6', 'g7g6', 'f7f6', 'e7e6', 'd7d6', 'c7c6', 'b7b6', 'a7a6', 'h7h5', 'g7g5', 'f7f5', 'e7e5', 'd7d5', 'c7c5', 'b7b5', 'a7a5']
INFO     root:main.py:211 best_moves (d: 3, s: 0) ['g1h3', 'g1f3', 'g1e2', 'f1a6', 'f1b5', 'f1c4', 'f1d3', 'f1e2', 'e1e2', 'd1h5', 'd1g4', 'd1f3', 'd1e2', 'b1c3', 'b1a3', 'e3e4', 'h2h3', 'g2g3', 'f2f3', 'd2d3', 'c2c3', 'b2b3', 'a2a3', 'h2h4', 'g2g4', 'f2f4', 'd2d4', 'c2c4', 'b2b4', 'a2a4']
INFO     root:main.py:156 moves_list: ['e2e3', 'f7f6', 'e1e2']
PASSED                                                                   [ 80%]
badchess/benchmark/memory/test_memory.py::test_find_best_move_depth_4 
-------------------------------- live log call ---------------------------------
INFO     root:main.py:211 best_moves (d: 1, s: 0) ['g1h3', 'g1f3', 'b1c3', 'b1a3', 'h2h3', 'g2g3', 'f2f3', 'e2e3', 'd2d3', 'c2c3', 'b2b3', 'a2a3', 'h2h4', 'g2g4', 'f2f4', 'e2e4', 'd2d4', 'c2c4', 'b2b4', 'a2a4']
INFO     root:main.py:211 best_moves (d: 2, s: 0) ['g8h6', 'g8f6', 'b8c6', 'b8a6', 'h7h6', 'g7g6', 'f7f6', 'e7e6', 'd7d6', 'c7c6', 'b7b6', 'a7a6', 'h7h5', 'g7g5', 'f7f5', 'e7e5', 'd7d5', 'c7c5', 'b7b5', 'a7a5']
INFO     root:main.py:211 best_moves (d: 3, s: 0) ['g1h3', 'g1f3', 'c1a3', 'c1b2', 'b1c3', 'b1a3', 'b4b5', 'h2h3', 'g2g3', 'f2f3', 'e2e3', 'd2d3', 'c2c3', 'a2a3', 'h2h4', 'g2g4', 'f2f4', 'e2e4', 'd2d4', 'c2c4', 'a2a4']
INFO     root:main.py:211 best_moves (d: 4, s: 0) ['g8h6', 'g8f6', 'e8d7', 'd8d7', 'c8d7', 'c8e6', 'c8f5', 'c8g4', 'c8h3', 'b8d7', 'b8c6', 'b8a6', 'h7h6', 'g7g6', 'f7f6', 'e7e6', 'c7c6', 'b7b6', 'a7a6', 'd6d5', 'h7h5', 'g7g5', 'f7f5', 'e7e5', 'c7c5', 'b7b5', 'a7a5']
INFO     root:main.py:156 moves_list: ['b2b4', 'd7d6', 'b1c3', 'g7g5']
PASSED                                                                   [100%]


================================ MEMRAY REPORT =================================
Allocation results for badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_4 at the high watermark

	 📦 Total memory allocated: 106.3MiB
	 📏 Total allocations: 891
	 📊 Histogram of allocation sizes: |    ▅ █ ▃|
	 🥇 Biggest allocating functions:
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:644 -> 33.2MiB
		- clear_board:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:1668 -> 22.5MiB
		- copy:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3745 -> 20.5MiB
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3921 -> 11.2MiB
		- push:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:2264 -> 3.8MiB


Allocation results for badchess/benchmark/memory/test_memory.py::test_find_best_move_depth_4 at the high watermark

	 📦 Total memory allocated: 103.5MiB
	 📏 Total allocations: 870
	 📊 Histogram of allocation sizes: |      █ ▁|
	 🥇 Biggest allocating functions:
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:644 -> 30.0MiB
		- clear_board:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:1668 -> 24.5MiB
		- copy:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3745 -> 21.5MiB
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3921 -> 13.0MiB
		- push:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:2264 -> 2.2MiB


Allocation results for badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_3 at the high watermark

	 📦 Total memory allocated: 4.5MiB
	 📏 Total allocations: 56
	 📊 Histogram of allocation sizes: |█ ▁   ▄ ▄|
	 🥇 Biggest allocating functions:
		- <lambda>:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:321 -> 2.5MiB
		- clear_board:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:1668 -> 768.0KiB
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:644 -> 512.0KiB
		- copy:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3745 -> 256.0KiB
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3921 -> 256.0KiB


Allocation results for badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_2 at the high watermark

	 📦 Total memory allocated: 262.4KiB
	 📏 Total allocations: 12
	 📊 Histogram of allocation sizes: |█ ▁      |
	 🥇 Biggest allocating functions:
		- <lambda>:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:321 -> 256.0KiB
		- is_pseudo_legal:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:1880 -> 2.1KiB
		- generate_pseudo_legal_moves:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:1706 -> 1.1KiB
		- push_uci:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3165 -> 576.0B
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:1448 -> 576.0B


Allocation results for badchess/benchmark/memory/test_memory.py::test_find_best_move_depth_3 at the high watermark

	 📦 Total memory allocated: 2.4KiB
	 📏 Total allocations: 15
	 📊 Histogram of allocation sizes: |▂       █|
	 🥇 Biggest allocating functions:
		- info:/home/kevin/.pyenv/versions/3.9.14/lib/python3.9/logging/__init__.py:1446 -> 584.0B
		- __init__:/home/kevin/.pyenv/versions/3.9.14/lib/python3.9/logging/__init__.py:323 -> 576.0B
		- _log:/home/kevin/.pyenv/versions/3.9.14/lib/python3.9/logging/__init__.py:1587 -> 568.0B
		- makeRecord:/home/kevin/.pyenv/versions/3.9.14/lib/python3.9/logging/__init__.py:1556 -> 568.0B
		- get_terminal_size:/home/kevin/.pyenv/versions/3.9.14/lib/python3.9/shutil.py:1375 -> 124.0B


============================== 5 passed in 22.17s ==============================
