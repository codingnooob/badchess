============================= test session starts ==============================
platform linux -- Python 3.9.14, pytest-7.4.1, pluggy-1.3.0
benchmark: 4.0.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /home/kevin/dev/badchess
configfile: pytest.ini
plugins: memray-1.5.0, benchmark-4.0.0
collected 3 items

badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_2 PASSED [ 33%]
badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_3 PASSED [ 66%]
badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_4 PASSED [100%]


================================ MEMRAY REPORT =================================
Allocation results for badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_4 at the high watermark

	 📦 Total memory allocated: 106.3MiB
	 📏 Total allocations: 891
	 📊 Histogram of allocation sizes: |    ▅ █ ▃|
	 🥇 Biggest allocating functions:
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:644 -> 32.0MiB
		- clear_board:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:1668 -> 23.2MiB
		- copy:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3745 -> 21.2MiB
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3921 -> 13.5MiB
		- push:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:2264 -> 4.5MiB


Allocation results for badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_3 at the high watermark

	 📦 Total memory allocated: 4.5MiB
	 📏 Total allocations: 56
	 📊 Histogram of allocation sizes: |█ ▁   ▅ ▂|
	 🥇 Biggest allocating functions:
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:644 -> 1.5MiB
		- copy:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3745 -> 1.0MiB
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3921 -> 1.0MiB
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:644 -> 256.0KiB
		- copy:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3745 -> 256.0KiB


Allocation results for badchess/benchmark/memory/test_memory.py::test_build_move_tree_depth_2 at the high watermark

	 📦 Total memory allocated: 262.4KiB
	 📏 Total allocations: 12
	 📊 Histogram of allocation sizes: |█ ▁      |
	 🥇 Biggest allocating functions:
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:644 -> 256.0KiB
		- is_pseudo_legal:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:1880 -> 2.1KiB
		- generate_pseudo_legal_moves:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:1706 -> 1.1KiB
		- push_uci:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:3165 -> 576.0B
		- __init__:/home/kevin/.pyenv/versions/badchess/lib/python3.9/site-packages/chess/__init__.py:1448 -> 576.0B


============================== 3 passed in 11.11s ==============================
